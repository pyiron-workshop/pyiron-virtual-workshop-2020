name: test_linux_3_7
os: linux
language: python
env: MINICONDA="https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh" PYTHONVER="3.7"
install:
  - export PATH="$HOME/miniconda/bin:$PATH"
  - wget ${MINICONDA} -O miniconda.sh
  - bash miniconda.sh -b -p $HOME/miniconda
  - conda info -a
  - conda config --set always_yes yes --set changeps1 no
  - conda update -q conda
  - conda env update --name root --file binder/environment.yml
  - bash binder/postBuild
  - conda install -c conda-forge libsass jupytext sphinx=2.4.4 pybtex jupyter_sphinx sphinxcontrib-bibtex markdown-it-py myst-parser nest-asyncio async_generator nbclient nbdime sphinx-copybutton pydata-sphinx-theme
  - pip install git+https://github.com/ExecutableBookProject/jupyter-book 
  - pip install git+https://github.com/pyiron/pyiron
script:
  - jupyter-book build book
